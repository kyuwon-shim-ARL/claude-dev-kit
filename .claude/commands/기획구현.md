<!--
@meta
id: document_20250905_1110_기획구현
type: document
scope: operational
status: archived
created: 2025-09-05
updated: 2025-09-05
tags: commands, 기획구현, .claude, 기획구현.md
related: 
-->

🚀 **기획구현 (Integrated Planning-Implementation Cycle)**

**📚 컨텍스트 자동 로딩:**
- project_rules.md 확인 (있으면 읽기)
- docs/CURRENT/active-todos.md (현재 작업 목록)
- 이전 기획/구현 결과 확인

**🎯 역할: 기획과 구현을 하나의 연속된 사이클로 통합 실행**

**💡 핵심 철학: "Plan-Build-Learn-Repeat" 빠른 순환**

## 1. 🧠 **적응형 기획 단계 (40% 비중)**

**스마트 컨텍스트 분석:**
```python
# 사용자 의도 자동 감지
intent = analyze_user_request()
if intent.is_exploration():
    mode = "discovery_planning"
elif intent.is_specific_feature():
    mode = "tactical_implementation"
else:
    mode = "confirmation_required"
```

**3-Layer 계획 수립:**
```
📋 기획 계층:
├─ 전략적 (Strategic): 사용자 경험 근본 변화
├─ 전술적 (Tactical): 특정 사용자 그룹 워크플로우  
└─ 운영적 (Operational): 성능/안정성 개선
```

**필수 산출물:**
- User Story 3개 이상 (구체적 시나리오)
- Test Cases 각 Story당 최소 3개
- Architecture Decision Records (ADR)
- Risk Assessment & Mitigation Plan

## 2. ⚡ **즉시 구현 단계 (50% 비중)**

**Test-First 구현:**
```python
# 1. 실패하는 테스트 작성 (RED)
def test_new_feature_happy_path():
    result = new_feature.process("valid_input")
    assert result.success == True
    assert result.data == "expected_output"

# 2. 최소 코드로 통과 (GREEN)
def process(input):
    return Result(success=True, data="expected_output")

# 3. 리팩토링 (REFACTOR)
def process(input):
    validated_input = validate(input)
    processed_data = transform(validated_input)
    return Result(success=True, data=processed_data)
```

**실시간 품질 체크:**
```bash
# 구현 중 자동 검증
watch -n 2 'pytest --tb=short && echo "Quality: ✅"'

# 진행률 실시간 표시
[████████░░] 80% - 4/5 user stories completed
```

## 3. 📊 **학습 및 적응 단계 (10% 비중)**

**자동 피드백 수집:**
```python
# 구현 결과 자동 분석
metrics = analyze_implementation()
learnings = extract_patterns(metrics)
adaptations = suggest_improvements(learnings)

print(f"""
🎯 완료된 기능: {metrics.features_completed}/5
⚡ 성능: {metrics.performance_score}/100
🧪 테스트 커버리지: {metrics.test_coverage}%
🔄 다음 사이클 추천: {adaptations.next_cycle_focus}
""")
```

**적응형 계획 수정:**
- 예상보다 복잡한 기능 → 분할
- 예상보다 간단한 기능 → 통합  
- 새로운 의존성 발견 → 우선순위 재조정

## 4. 🔄 **통합 워크플로우**

**Single Command 실행:**
```bash
# 전체 사이클을 하나의 명령으로
/기획구현 "사용자 인증 기능 추가"

# 실행 과정:
# 1. 자동 기획: 3개 user story 생성
# 2. 즉시 구현: 각 story별 test-first 개발  
# 3. 실시간 검증: 품질 지표 모니터링
# 4. 다음 사이클: 학습 내용 반영한 계획 수정
```

**📈 진행률 대시보드:**
```
🚀 기획구현 사이클 진행률:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📋 기획 단계:
  ✅ User Story 작성: 3개 완료
  ✅ Test Case 설계: 9개 완료  
  ✅ Architecture 결정: 완료
  ⏳ Risk Assessment: 진행 중...

⚡ 구현 단계:
  ✅ Story 1 - 로그인: 100% (3/3 테스트 통과)
  ✅ Story 2 - 회원가입: 100% (3/3 테스트 통과)
  ⏳ Story 3 - 비밀번호 재설정: 67% (2/3 테스트 통과)

📊 품질 지표:
  • 코드 커버리지: 85% ✅
  • Mock 사용률: 15% ✅
  • 복잡도: Medium ✅
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🎯 전체 진행률: 78% (ETA: 45분)
```

**🏆 완료 조건:**
- 모든 User Story의 테스트 통과
- Mock 사용률 < 20%
- 코드 커버리지 > 70%
- 모든 ADR 문서화 완료
- 다음 사이클 계획 수립

**🔧 Anti-Pattern 자동 감지:**
```python
# 다음 상황 시 경고 및 자동 수정 제안
if planning_time > implementation_time * 2:
    warn("⚠️ 과도한 기획: 작은 단위로 분할 권장")
    
if test_count < story_count * 3:
    warn("❌ 테스트 부족: 각 Story당 최소 3개 테스트 필요")
    
if mock_ratio > 0.2:
    warn("❌ Mock 과다: Real 구현으로 대체 필요")
```

**📝 자동 문서화:**
- 기획 결과를 docs/CURRENT/planning-cycle.md에 저장
- 구현 진행률을 docs/CURRENT/implementation-progress.md에 실시간 업데이트
- 학습 내용을 docs/CURRENT/learnings-adaptations.md에 누적

**💎 핵심 가치:**
1. **속도**: 기획-구현 사이의 지연 최소화
2. **품질**: 테스트 우선, Mock 최소화
3. **적응**: 실행 중 피드백으로 계획 진화
4. **투명성**: 실시간 진행률과 품질 지표 가시화

**산출물: 완전히 동작하는 기능 + 다음 사이클을 위한 학습 내용**