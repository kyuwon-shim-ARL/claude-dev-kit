ğŸ¯ **ê¸°íš (Adaptive Planning with Real Testing)**

**ğŸ“š ì»¨í…ìŠ¤íŠ¸ ìë™ ë¡œë”© (ìš°ì„ ìˆœìœ„ ìˆœ):**
- docs/specs/project_rules.md í™•ì¸ (ì—†ìœ¼ë©´ ë£¨íŠ¸ì—ì„œ ì°¾ê¸°)
- docs/specs/PRD-v*.md í™•ì¸ (ìµœì‹  ë²„ì „)
- docs/CURRENT/status.md í™•ì¸ (ìˆìœ¼ë©´ ì½ê¸°)
- ì´ì „ ì„¸ì…˜ TODO í™•ì¸

**ğŸ”„ ê¸°íš ì‹œì‘ ì‹œ ì»¨í…ìŠ¤íŠ¸ ì •ë¦¬ (í™•ì •ì  ì‹¤í–‰):**
IF (ìƒˆë¡œìš´_ì£¼ì œ_ê°ì§€ OR ë¡œë“œë§µ_ì „í™˜_ê°ì§€):
    /compact "Strategic ì˜ì† ì»¨í…ìŠ¤íŠ¸ì™€ project_rules.mdë§Œ ìœ ì§€. ì´ì „ êµ¬í˜„ ì„¸ë¶€ì‚¬í•­ê³¼ Tactical/Operational ì»¨í…ìŠ¤íŠ¸ëŠ” ì•„ì¹´ì´ë¸Œí•˜ì—¬ ìƒˆë¡œìš´ ê¸°íšì— ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡ ì •ë¦¬"

**ğŸ¤– ì ì‘í˜• ëª¨ë“œ ì„ íƒ:**

1. **ì˜ë„ ê°ì§€ (LLM ìë™ íŒë‹¨):**
   ì‚¬ìš©ì ì˜ë„ë¥¼ ë‹¤ìŒ ì‹ í˜¸ë“¤ë¡œ ì¢…í•© íŒë‹¨:
   
   **íƒìƒ‰ ì‹ í˜¸ (ë¶„ì„/ì´í•´):**
   - ì˜ë¬¸ë¬¸, í˜„ì¬/ê³¼ê±° ì‹œì œ
   - "ì™œ", "ì–´ë–»ê²Œ", "ë­", "ë¶„ì„", "ì„¤ëª…", "ì´í•´", "ê¶ê¸ˆ"
   - êµ¬ì²´ì  í–‰ë™ ê³„íš ì—†ìŒ
   - ì´í•´ë‚˜ í•™ìŠµ ëª©ì 
   
   **êµ¬í˜„ ì‹ í˜¸ (ì‹¤í–‰/ê°œë°œ):**
   - ëª…ë ¹ë¬¸, ë¯¸ë˜ ì‹œì œ
   - "ì¶”ê°€", "ê°œì„ ", "ìˆ˜ì •", "êµ¬í˜„", "ë§Œë“¤ì", "í•´ê²°"
   - êµ¬ì²´ì  ëª©í‘œ ì œì‹œ
   - ë³€ê²½ ì˜ë„ ëª…í™•
   
   **íŒë‹¨ í”„ë¡œì„¸ìŠ¤:**
   - ì¢…í•© ì‹ í˜¸ ë¶„ì„
   - ì‹ ë¢°ë„ 80% ì´ìƒ â†’ ìë™ ì„ íƒ
   - 80% ë¯¸ë§Œ â†’ "ğŸ¤” êµ¬í˜„ ì˜ˆì •ì¸ê°€ìš”? (Y/n)"
   - --explore/--implement í”Œë˜ê·¸ ìš°ì„ 

2. **ëª¨ë“œë³„ ë™ì‘:**

   **ğŸ“Š íƒìƒ‰ ëª¨ë“œ (Exploration):**
   - í˜„í™© ë¶„ì„ ë° ì„¤ëª…
   - ì•„í‚¤í…ì²˜ ì´í•´
   - ì½”ë“œ ë™ì‘ ì„¤ëª…
   - ì‚°ì¶œë¬¼: ë¶„ì„ ë³´ê³ ì„œë§Œ
   
   **ğŸ”§ êµ¬í˜„ ëª¨ë“œ (Implementation):**
   - PRD ì‘ì„±
   - í…ŒìŠ¤íŠ¸ ìš°ì„  ì„¤ê³„ (ì•„ë˜ ìƒì„¸)
   - TodoWrite ì‘ì—… ê³„íš
   - ì‚°ì¶œë¬¼: PRD + Failing Tests + TODOs

**ğŸ§  ì§€ëŠ¥í˜• ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ (ìë™ ì‹¤í–‰):**
1. **ë¡œë“œë§µ ì „í™˜ ê°ì§€**: í˜„ì¬ ìš”ì²­ê³¼ ì´ì „ 3-5ê°œ ë©”ì‹œì§€ ë¹„êµ
   - Semantic distance > 0.7 â†’ ìƒˆë¡œìš´ ë¡œë“œë§µìœ¼ë¡œ íŒë‹¨
   - ëª…ì‹œì  ì „í™˜ í‚¤ì›Œë“œ ("ë‹¤ìŒìœ¼ë¡œ", "ìƒˆë¡œìš´ ê¸°ëŠ¥", "ì´ì œ ë‹¤ë¥¸") ê°ì§€
   - /ë°°í¬ ì™„ë£Œ í›„ 10ë¶„+ ê²½ê³¼ + ìƒˆ ì£¼ì œ â†’ ìë™ ê²½ê³„ ì„¤ì •

2. **ê¸°íš ìœ„ê³„ ìë™ ë¶„ë¥˜** (ì„íŒ©íŠ¸ ê¸°ë°˜ MECE):
   
   **Strategic (ì „ëµì¸µ - 90% ì»¨í…ìŠ¤íŠ¸ ìœ ì§€)**:
   - íŒë‹¨ê¸°ì¤€: "ì‚¬ìš©ì ê²½í—˜ì˜ ê·¼ë³¸ì´ ë°”ë€ŒëŠ”ê°€?"
   - ì‹œê·¸ë„: ìƒˆ ì¸ì¦ì‹œìŠ¤í…œ, DBë§ˆì´ê·¸ë ˆì´ì…˜, ìƒˆ í”Œë«í¼, ë¹„ì¦ˆë‹ˆìŠ¤ë¡œì§ ê·¼ë³¸ë³€ê²½
   - ì˜ˆì‹œ: "ì†Œì…œë¡œê·¸ì¸ ì¶”ê°€", "ê²°ì œì‹œìŠ¤í…œ êµ¬ì¶•", "ëª¨ë°”ì¼ì•± ì¶œì‹œ"
   - âŒë°˜ë¡€: "ì „ì²´ UI ê°œì„ "(ì‹¤ì œë¡œëŠ” ì¼ë¶€), "ì‹œìŠ¤í…œ ì „ì²´ í…ŒìŠ¤íŠ¸"
   
   **Tactical (ì „ìˆ ì¸µ - 60% ê´€ë ¨ ì»¨í…ìŠ¤íŠ¸)**:
   - íŒë‹¨ê¸°ì¤€: "íŠ¹ì • ì‚¬ìš©ì ê·¸ë£¹ì˜ ì›Œí¬í”Œë¡œìš°ê°€ ë°”ë€ŒëŠ”ê°€?"  
   - ì‹œê·¸ë„: ê¸°ëŠ¥ì˜µì…˜ ì¶”ê°€, ìƒˆ API, UIì»´í¬ë„ŒíŠ¸ ì¶”ê°€, íŠ¹ì •ê·¸ë£¹ ê°œì„ 
   - ì˜ˆì‹œ: "ëŒ€ì‹œë³´ë“œ ì°¨íŠ¸ ì¶”ê°€", "íŒŒì¼ì—…ë¡œë“œ ìš©ëŸ‰í™•ì¥", "ìƒˆ í•„í„°ì˜µì…˜"
   - âŒë°˜ë¡€: "ë¡œê·¸ì¸ ë²„ê·¸ìˆ˜ì •"(ì›Œí¬í”Œë¡œìš° ë¬´ë³€í™”)
   
   **Operational (ìš´ì˜ì¸µ - 30% í•µì‹¬ë§Œ)**:
   - íŒë‹¨ê¸°ì¤€: "ê¸°ì¡´ ê¸°ëŠ¥ì´ ë” ì•ˆì •ì /ë¹ ë¥´ê²Œ ë™ì‘í•˜ëŠ”ê°€?"
   - ì‹œê·¸ë„: ë²„ê·¸ìˆ˜ì •, ì„±ëŠ¥íŠœë‹, ì„¤ì •ì¡°ì •, ì—ëŸ¬í•¸ë“¤ë§ê°œì„ , ë¦¬íŒ©í† ë§
   - ì˜ˆì‹œ: "ë¡œê·¸ì¸ ì—ëŸ¬ë©”ì‹œì§€ ê°œì„ ", "DBì¿¼ë¦¬ ìµœì í™”", "CSSë²„ê·¸ ìˆ˜ì •"
   - âŒë°˜ë¡€: "ìƒˆ ë¡œê·¸ë¶„ì„ë„êµ¬"(ê¸°ëŠ¥ì¶”ê°€=Tactical)

3. **ì»¨í…ìŠ¤íŠ¸ ìƒì† ì ìš©**:
   - ì˜ì† ìœ ì§€: docs/specs/* (project_rules.md, PRD, requirements.md, architecture.md)
   - ê´€ë ¨ì„± í•„í„°: ìƒˆ ì£¼ì œì™€ ì—°ê´€ì„± ê¸°ë°˜ ì„ ë³„ ë³´ì¡´  
   - ìë™ ì•„ì¹´ì´ë¸Œ: ì™„ë£Œ ì‘ì—… + ë¯¸ì±„íƒ ëŒ€ì•ˆ â†’ sessions/

**íƒìƒ‰ ë‹¨ê³„:**
- ì „ì²´ êµ¬ì¡° íŒŒì•…: í˜„ì¬ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ì™€ ìš”êµ¬ì‚¬í•­ ë¶„ì„
- As-Is/To-Be/Gap ë¶„ì„: í˜„ì¬ ìƒíƒœ, ëª©í‘œ ìƒíƒœ, ì°¨ì´ì  ì‹ë³„
- ì´í•´ê´€ê³„ì ìš”êµ¬ì‚¬í•­ ìˆ˜ì§‘ ë° ìš°ì„ ìˆœìœ„í™”

**ê³„íš ë‹¨ê³„:**
- MECE ê¸°ë°˜ ì‘ì—…ë¶„í•´(WBS): ìƒí˜¸ë°°íƒ€ì ì´ê³  ì „ì²´í¬ê´„ì ì¸ ì—…ë¬´ êµ¬ì¡°
- ìš°ì„ ìˆœìœ„ ë§¤íŠ¸ë¦­ìŠ¤: ì¤‘ìš”ë„ì™€ ê¸´ê¸‰ë„ ê¸°ë°˜ ì‘ì—… ìˆœì„œ ê²°ì •
- ë¦¬ì†ŒìŠ¤ ë° ì¼ì • ê³„íš ìˆ˜ë¦½

**ìˆ˜ë ´ ë‹¨ê³„:**
- íƒìƒ‰â†”ê³„íš ë°˜ë³µ iterative refinement
- PRD(Product Requirements Document) ì™„ì„±
- TodoWriteë¥¼ í™œìš©í•œ êµ¬ì¡°í™”ëœ ì‘ì—… ê³„íš ìˆ˜ë¦½

**ğŸ§ª í…ŒìŠ¤íŠ¸ ìš°ì„  ì„¤ê³„ (êµ¬í˜„ ëª¨ë“œ ì „ìš©):**

**í’ˆì§ˆ ê¸°ì¤€ (MANDATORY):**
```python
# âŒ Theater Testing (ìë™ ê±°ë¶€)
def test_installation():
    assert os.path.exists('file')  # REJECTED: ë„ˆë¬´ ì¶”ìƒì 
    print("âœ… Pass")  # REJECTED: ì˜ë¯¸ì—†ëŠ” ì¶œë ¥

# âœ… Real Testing (í•„ìˆ˜ í¬í•¨)
def test_korean_command_installation():
    """ì‚¬ìš©ìê°€ init.sh ì‹¤í–‰ ì‹œ í•œê¸€ ëª…ë ¹ì–´ ì‚¬ìš© ê°€ëŠ¥"""
    # Given: êµ¬ì²´ì  ì´ˆê¸° ìƒíƒœ
    with tempfile.TemporaryDirectory() as tmpdir:
        # When: ì‹¤ì œ í–‰ë™ ì‹¤í–‰
        result = subprocess.run(['./init.sh', 'test'], 
                              capture_output=True, timeout=30)
        
        # Then: êµ¬ì²´ì  ê²€ì¦
        cmd_path = Path(f'{tmpdir}/test/.claude/commands/ê¸°íš.md')
        assert cmd_path.exists(), "íŒŒì¼ ë¯¸ìƒì„±"
        assert cmd_path.stat().st_size > 1000, f"í¬ê¸° ë¶€ì¡±: {cmd_path.stat().st_size}"
        assert '404' not in cmd_path.read_text(), "ì—ëŸ¬ ì½˜í…ì¸ "
        
        # And: ì—ëŸ¬ ì¼€ì´ìŠ¤
        with mock.patch('urllib.request.urlopen', side_effect=Exception):
            fallback_result = run_with_network_error()
            assert 'fallback' in fallback_result
```

**í…ŒìŠ¤íŠ¸ ë§¤íŠ¸ë¦­ìŠ¤ (ìë™ ìƒì„±):**
| Scenario | Type | Priority | Assertion Count | Mock % |
|----------|------|----------|-----------------|--------|
| Happy Path | Critical | P0 | â‰¥3 | <20% |
| Edge Case | Edge | P1 | â‰¥2 | <30% |
| Error Case | Error | P1 | â‰¥1 | <40% |

**ìƒì„± ê·œì¹™:**
1. ê° User Storyë‹¹ ìµœì†Œ 3ê°œ í…ŒìŠ¤íŠ¸ (Happy + Edge + Error)
2. ê° í…ŒìŠ¤íŠ¸ë‹¹ ìµœì†Œ 2ê°œ êµ¬ì²´ì  assertion
3. Mock ì‚¬ìš©ë¥  20% ì´í•˜ (ì™¸ë¶€ ì„œë¹„ìŠ¤ë§Œ)
4. ì‹¤ì œ íŒŒì¼/ë°ì´í„° ì‚¬ìš© ìš°ì„ 
5. í…ŒìŠ¤íŠ¸ëŠ” ë°˜ë“œì‹œ ì‹¤íŒ¨ ìƒíƒœë¡œ ìƒì„± (êµ¬í˜„ ì „ì´ë¯€ë¡œ)

**í’ˆì§ˆ ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸:**
â–¡ í…ŒìŠ¤íŠ¸ê°€ êµ¬ì²´ì  ê°’ì„ ê²€ì¦í•˜ëŠ”ê°€? (not just existence)
â–¡ ì—ëŸ¬ ì¼€ì´ìŠ¤ë¥¼ í¬í•¨í•˜ëŠ”ê°€?
â–¡ BDD ìŠ¤íƒ€ì¼ë¡œ ì‘ì„±ë˜ì—ˆëŠ”ê°€?
â–¡ Mock ìµœì†Œí™”ë˜ì—ˆëŠ”ê°€?
â–¡ ì‹¤íŒ¨ ë©”ì‹œì§€ê°€ ëª…í™•í•œê°€?

**ğŸ“Š ì‘ì—… ê·œëª¨ í‰ê°€:**
- ì „ëµì  (Strategic): ì œí’ˆ ì „ì²´, ë©”ì´ì € ê¸°ëŠ¥, v2.0 ë“± â†’ PRD ìƒì„±
- ì „ìˆ ì  (Tactical): ì¤‘ê°„ ê¸°ëŠ¥, ëª¨ë“ˆ ê°œì„  â†’ planning.md ì„ íƒì 
- ìš´ì˜ì  (Operational): ë²„ê·¸ ìˆ˜ì •, ì‘ì€ ê°œì„  â†’ TodoWriteë§Œ

**ğŸ’¾ ê·œëª¨ë³„ ì°¨ë³„í™”ëœ ë¬¸ì„œí™” + PRD ìë™ ë¶„í•´:**

**ğŸ“‹ PRD ê¸°ë°˜ ì‚¬ì–‘ì„œ ìë™ ìƒì„± (ì¡°ê±´ë¶€ ì‹¤í–‰):**
```python
def auto_generate_specs():
    # íŠ¸ë¦¬ê±° ì¡°ê±´
    if (not exists('docs/specs/requirements.md') or 
        not exists('docs/specs/architecture.md') or
        prd_newer_than_specs() or
        detect_major_changes()):
        
        extract_requirements(PRD) â†’ docs/specs/requirements.md
        extract_architecture(PRD) â†’ docs/specs/architecture.md
        move_project_rules() â†’ docs/specs/project_rules.md
```

**ìë™ ìƒì„± íŠ¸ë¦¬ê±°:**
- ì´ˆê¸° ì‹¤í–‰: requirements.md, architecture.md ë¯¸ì¡´ì¬
- ë³€ê²½ ê°ì§€: PRD íŒŒì¼ì´ specs ë¬¸ì„œë“¤ë³´ë‹¤ ìµœì‹ 
- í‚¤ì›Œë“œ ê°ì§€: "ì•„í‚¤í…ì²˜ ë³€ê²½", "ìš”êµ¬ì‚¬í•­ ì—…ë°ì´íŠ¸", "í° ë³€í™”"
- ëª…ì‹œì  ìš”ì²­: ì‚¬ìš©ìê°€ ì§ì ‘ ì—…ë°ì´íŠ¸ ìš”ì²­

**ìƒì„± ë‚´ìš©:**
- **requirements.md**: ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­, ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­, ì œì•½ì‚¬í•­ ì¶”ì¶œ
- **architecture.md**: ì‹œìŠ¤í…œ êµ¬ì¡°, ê¸°ìˆ  ìŠ¤íƒ, ë°ì´í„° íë¦„, ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„
- **project_rules.md**: ë£¨íŠ¸ì—ì„œ docs/specs/ë¡œ ì´ë™ (ìµœì´ˆ 1íšŒ)

**ë¬¸ì„œí™” ê³„ì¸µ:**
- **ì „ëµì  ê¸°íš**: PRD ìƒì„±/ì—…ë°ì´íŠ¸ â†’ ìë™ specs ë¶„í•´ + planning.md + TodoWrite
- **ì „ìˆ ì  ê¸°íš**: planning.md ì„ íƒì  ìƒì„± + TodoWrite 
- **ìš´ì˜ì  ì‘ì—…**: TodoWriteë§Œ ì‚¬ìš© (ë¬¸ì„œ ìƒì„± ìµœì†Œí™”)
- TodoWriteëŠ” í•­ìƒ docs/CURRENT/active-todos.mdì— ë™ê¸°í™”

**ì‚°ì¶œë¬¼ (ëª¨ë“œë³„):**
- **íƒìƒ‰ ëª¨ë“œ**: ë¶„ì„ ë³´ê³ ì„œ, í˜„í™© ì„¤ëª…
- **êµ¬í˜„ ëª¨ë“œ**: 
  - PRD (ìš”êµ¬ì‚¬í•­ ë° ì„±ê³µ ê¸°ì¤€)
  - tests/test_[feature]_spec.py (ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸)
  - tests/scenarios/[feature].md (BDD ì‹œë‚˜ë¦¬ì˜¤)
  - TodoWrite (êµ¬í˜„ ì‘ì—… ëª©ë¡)

**ì˜¤ë²„ë¼ì´ë“œ ì˜µì…˜:**
- --explore: ê°•ì œ íƒìƒ‰ ëª¨ë“œ
- --implement: ê°•ì œ êµ¬í˜„ ëª¨ë“œ
- --no-test: í…ŒìŠ¤íŠ¸ ìƒì„± ìŠ¤í‚µ (ê¶Œì¥í•˜ì§€ ì•ŠìŒ)