🔚 **세션 마감 (Smart Session Closure)**

**📚 컨텍스트 자동 로딩:**
- docs/CURRENT/ 전체 파일 상태 분석
- 완료/진행중/보존 문서 자동 분류

**🧠 지능형 완료 상태 감지:**
완료된 프로젝트 문서들을 Claude의 맥락 이해로 자동 식별:

**완료 신호 패턴:**
- "완성도: 100%", "✅ 완료", "전체 완료"
- "테스트 완료", "구현 완료", "배포 완료" 
- completion-report-*, test-report-v*, implementation-report-*
- 과거 날짜 기반 완료 문서들

**진행중 신호 패턴:**
- "⏳ 진행중", "Active TODOs", "Current Sprint"
- "in_progress", 현재 작업 관련 키워드

**보존 신호 패턴:**
- active-todos.md, status.md (현재 상태 관리)
- project_rules.md, planning.md (영구 보존)

**🔄 실행 프로세스:**

1. **자동 분석**: docs/CURRENT/ 전체 스캔
2. **지능형 분류**: 각 파일의 완료 상태 분석 (95% 신뢰도)
3. **결과 표시**: 
   ```
   📊 세션 마감 분석 결과
   ✅ 완료 문서 (6개): completion-report-v18.md, test-report-v10.1.md...
   🔄 진행중 문서 (2개): active-todos.md, status.md
   📚 보존 문서 (1개): project_rules.md
   ```
4. **안전장치 확인**: "6개 완료 문서를 아카이브하시겠습니까? [Y/n]"
5. **즉시 실행**: Y 입력 시 자동 아카이브 처리

**📦 아카이브 프로세스:**
- **이동 위치**: docs/development/sessions/YYYY-MM/session-XXX.md
- **세션 통합**: 모든 완료 문서를 하나의 세션 파일로 병합
- **메타데이터**: 완료 이유, 신뢰도, 타임스탬프 포함
- **안전 삭제**: 아카이브 완료 후 CURRENT에서 제거

**💡 사용 방법:**

```bash
# 기본 실행
python scripts/session_closure.py

# 또는 슬래시 명령어로 (향후)
/세션마감
```

**📊 예상 결과:**
- **Before**: docs/CURRENT/ 15개 파일 (혼재 상태)
- **After**: docs/CURRENT/ 3-4개 파일 (현재 작업만)
- **Archive**: docs/development/sessions/2025-08/session-001.md (완료 문서들)

**🛡️ 안전장치:**
- **백업 생성**: 아카이브 전 자동 백업
- **확인 절차**: 실행 전 사용자 최종 승인
- **복구 지원**: 잘못된 분류 시 복구 가능
- **로그 기록**: 모든 작업 상세 로그

**⚡ 핵심 이점:**
- **즉시 실행**: 복잡한 수동 분류 없이 한 번에 정리
- **높은 정확도**: Claude 맥락 이해 기반 95% 신뢰도
- **안전한 처리**: 데이터 손실 0% 보장
- **목적 복원**: docs/CURRENT/가 진정한 "현재" 작업 공간으로 복원

**산출물:** 깨끗하게 정리된 CURRENT 디렉토리 + 완전한 세션 아카이브