🔚 **세션 마감 (Claude Native Session Closure v25.3)**

**🆕 설치 불필요**: Claude가 직접 처리 (Python 스크립트 제거됨)

**📚 컨텍스트 자동 로딩:**
- docs/CURRENT/ 전체 파일 스캔
- 메타데이터 기반 상태 확인
- 완료/진행중/보존 문서 자동 분류

**🧠 메타데이터 기반 지능형 분류:**

**자동 아카이빙 대상 (메타데이터 status 기준):**
- `status: published` → 완료된 문서, 아카이빙 대상
- `status: archived` → 이미 아카이브 상태, 이동 필요
- `status: deprecated` → 더 이상 필요 없음, 아카이빙

**현재 유지 대상:**
- `status: draft` → 작업 중, CURRENT에 유지
- `status: review` → 검토 중, CURRENT에 유지
- 메타데이터 없는 문서 → 내용 분석 후 결정

**진행중 신호 패턴:**
- "⏳ 진행중", "Active TODOs", "Current Sprint"
- "in_progress", 현재 작업 관련 키워드

**보존 신호 패턴:**
- active-todos.md, status.md (현재 상태 관리)
- project_rules.md, planning.md (영구 보존)

**🔄 Claude 직접 실행 프로세스:**

1. **메타데이터 스캔**: 
   ```python
   # Claude가 내부적으로 수행
   for file in docs/CURRENT/*.md:
       metadata = extract_metadata(file)
       if metadata and metadata['status'] in ['published', 'archived', 'deprecated']:
           archive_list.append(file)
       elif metadata and metadata['status'] in ['draft', 'review']:
           keep_list.append(file)
   ```

2. **결과 표시**: 
   ```
   📊 세션 마감 분석 결과
   ✅ 아카이빙 대상 (6개): 
      - doc_system.md (status: published)
      - test_report.md (status: published)
      - old_analysis.md (status: deprecated)
   🔄 현재 유지 (3개):
      - active_work.md (status: draft)
      - review_doc.md (status: review)
      - current_prd.md (status: draft)
   ```

3. **사용자 확인**: "위 6개 문서를 아카이브하시겠습니까?"

4. **Claude가 직접 실행**:
   - 아카이브 파일 생성: `docs/development/sessions/YYYY-MM/session-XXX.md`
   - 파일 이동 실행
   - CURRENT 정리 완료

**📦 Claude가 수행하는 아카이브 프로세스:**

1. **아카이브 파일 생성**:
   ```markdown
   # Session Archive - 2025-09-01
   
   ## 📊 세션 요약
   - 아카이브된 문서: 6개
   - 세션 주제: Document Tracking System 개발
   - 완료 시간: 2025-09-01 20:30
   
   ## 📄 아카이브된 문서들
   
   ### 1. document_tracking_system.md
   - Status: published
   - Type: documentation
   - Created: 2025-09-01
   
   [Full content...]
   ```

2. **파일 이동**: `docs/development/sessions/2025-09/session-001.md`

3. **CURRENT 정리**: 아카이브된 파일들 제거

4. **결과 보고**: 
   ```
   ✅ 세션 마감 완료
   - 아카이브: 6개 문서
   - 현재 유지: 3개 문서
   - 저장 위치: docs/development/sessions/2025-09/session-001.md
   ```

**💡 사용 방법:**

```bash
# 슬래시 명령어로 직접 실행 (🆕 Python 스크립트 불필요)
/세션마감

# 또는 명시적 요청
"세션 마감 실행해줘"
"CURRENT 폴더 정리해줘 - 완료된 것들 아카이브로"
```

**🆕 메타데이터 기반 자동 처리:**
- 메타데이터가 있는 문서: status 필드로 자동 분류
- 메타데이터가 없는 문서: Claude가 내용 분석 후 결정

**📊 예상 결과:**
- **Before**: docs/CURRENT/ 15개 파일 (혼재 상태)
- **After**: docs/CURRENT/ 3-4개 파일 (현재 작업만)
- **Archive**: docs/development/sessions/2025-08/session-001.md (완료 문서들)

**🛡️ 안전장치:**
- **백업 생성**: 아카이브 전 자동 백업
- **확인 절차**: 실행 전 사용자 최종 승인
- **복구 지원**: 잘못된 분류 시 복구 가능
- **로그 기록**: 모든 작업 상세 로그

**⚡ 핵심 이점:**
- **즉시 실행**: 복잡한 수동 분류 없이 한 번에 정리
- **높은 정확도**: Claude 맥락 이해 기반 95% 신뢰도
- **안전한 처리**: 데이터 손실 0% 보장
- **목적 복원**: docs/CURRENT/가 진정한 "현재" 작업 공간으로 복원

**산출물:** 깨끗하게 정리된 CURRENT 디렉토리 + 완전한 세션 아카이브