🎯 **실험완료 (Research Experiment Completion)**

**🧪 연구 실험 완료 및 아카이빙 시스템**
"실험이 끝나면 결과를 체계적으로 정리하고 다음 연구로 연결합니다."

**📚 컨텍스트 자동 로딩:**
- research/experiments/current/ 확인 (현재 진행 실험)
- project_rules.md 확인 (연구 프로젝트 철학 반영)
- docs/CURRENT/research-log.md 확인 (전체 실험 이력)

**📋 사용법:**
```
/실험완료 [실험_ID] [상태] [옵션]
```

**⚡ 3단계 완료 프로세스:**

## **1. 🔍 실험 상태 분석 및 검증**

**현재 실험 확인:**
- `research/experiments/current/` 링크 추적
- 실험 메타데이터 읽기 (`config/experiment.json`)
- 실험 진행 상태 및 결과물 확인
- 미완료 작업 식별

**결과물 완성도 체크:**
```python
completion_criteria = {
    "results_generated": "results/ 디렉토리 내 결과 파일 존재",
    "documentation": "docs/notes.md 실험 기록 완료",
    "code_backed_up": "code/backup/ 최종 코드 백업",
    "metrics_recorded": "results/metrics/ 성능 지표 기록"
}
```

**상태 분류:**
```python
experiment_status = {
    "success": "목표 달성, 결과 만족",
    "partial": "부분 성공, 일부 목표 달성", 
    "failed": "실패, 학습 내용 기록",
    "abandoned": "중단, 이유 기록",
    "continued": "다음 실험으로 연계"
}
```

## **2. 📦 실험 결과 아카이빙**

**결과 정리 및 백업:**
```
research/experiments/YYYY-MM-DD_HHMM_[실험명]/
├── FINAL/                    # 최종 결과물 (새로 생성)
│   ├── summary.md           # 실험 요약 보고서
│   ├── key_findings.json    # 핵심 발견사항 (구조화)
│   ├── best_results/        # 최고 성능 결과물
│   └── lessons_learned.md   # 교훈 및 개선점
├── code/
│   └── backup/
│       └── final_snapshot/  # 최종 코드 스냅샷
└── results/
    └── archived/           # 모든 결과 아카이브
```

**실험 요약 보고서 자동 생성 (summary.md):**
```markdown
# 실험 완료 보고서: {experiment_name}

**실험 정보:**
- 시작일: {start_date}
- 완료일: {completion_date}
- 소요시간: {duration}
- 상태: {status}

## 🎯 목표 달성도
{goal_achievement_analysis}

## 📊 주요 결과
### 성능 지표
{performance_metrics}

### 핵심 발견사항
{key_findings}

## 🔍 실험 과정 분석
### 성공한 접근법
{successful_approaches}

### 실패한 시도
{failed_attempts}

### 예상과 다른 결과
{unexpected_results}

## 💡 교훈 및 개선점
{lessons_learned}

## 🚀 다음 실험 제안
{next_experiments}

## 📁 결과물 위치
- 최고 성능 모델: `FINAL/best_results/`
- 상세 메트릭스: `results/metrics/`
- 시각화 자료: `results/plots/`
- 실험 로그: `logs/`
```

## **3. 🔄 실험 이력 업데이트 및 연계**

**전체 실험 로그 업데이트:**
- `docs/CURRENT/research-log.md`에 완료된 실험 추가
- 실험 간 연관성 기록 (parent-child 관계)
- 성공/실패 패턴 분석 데이터 축적

**현재 실험 링크 관리:**
```bash
# 현재 실험 링크 해제
rm research/experiments/current

# 다음 실험이 있으면 연결, 없으면 대기 상태
if [ "$next_experiment" ]; then
    ln -sf $(pwd)/research/experiments/$next_experiment research/experiments/current
else
    echo "현재 진행 중인 실험이 없습니다." > research/experiments/current_status.txt
fi
```

**아카이브 디렉토리 관리:**
```
research/
├── experiments/
│   ├── active/              # 진행 중인 실험들
│   ├── completed/           # 완료된 실험들 (성공/부분성공)
│   ├── archived/           # 실패/중단된 실험들
│   └── current -> active/실험ID  # 현재 작업 중인 실험
```

## **📋 슬래시 커맨드 예시**

### 예시 1: 성공적인 실험 완료
```
/실험완료 2024-11-15_1430_xgboost_optimization success

→ 출력:
🎯 실험 완료 처리 중...
📁 실험: 2024-11-15_1430_xgboost_optimization
✅ 상태: success (목표 달성)
📊 결과물 체크:
  ✅ 성능 지표 기록됨 (accuracy: 0.94)
  ✅ 실험 노트 완료됨 (docs/notes.md)
  ✅ 코드 백업 완료됨
  ✅ 결과 파일 생성됨 (15개 파일)

🏗️ 아카이빙 진행:
  ✅ FINAL/ 디렉토리 생성
  ✅ 실험 요약 보고서 생성 (summary.md)
  ✅ 핵심 발견사항 구조화 (key_findings.json)
  ✅ completed/ 디렉토리로 이동

🔗 실험 이력 업데이트:
  ✅ research-log.md 업데이트
  ✅ 성공 패턴 데이터 축적
  ✅ 다음 실험 제안 생성

🎉 실험 완료! 다음 단계 추천:
  1. /보고서작업 progress --include-experiment completed/2024-11-15_1430_xgboost_optimization
  2. /실험시작 xgboost_v2 modeling --parent 2024-11-15_1430_xgboost_optimization
```

### 예시 2: 부분 성공 실험
```
/실험완료 current partial --reason "시간 부족으로 일부 목표만 달성"

→ 출력:
🎯 현재 실험 부분 완료 처리...
📁 실험: 2024-11-15_1435_data_quality_check
⚠️ 상태: partial (부분 성공)
💬 사유: 시간 부족으로 일부 목표만 달성

📊 달성 분석:
  ✅ 목표 1: 데이터 품질 체크 (완료)
  ✅ 목표 2: 결측치 분석 (완료)
  ❌ 목표 3: 자동 보정 시스템 (미완료)
  
🔄 연계 실험 제안:
  📝 남은 작업을 위한 후속 실험을 생성하시겠습니까? [Y/n]
  → 실험명 제안: "data_quality_autofix"
  → 상위 실험 연결: 자동 설정됨
```

### 예시 3: 실패 실험 분석
```
/실험완료 2024-11-10_0900_neural_architecture failed --lessons

→ 출력:
🎯 실험 실패 분석 및 학습...
📁 실험: 2024-11-10_0900_neural_architecture
❌ 상태: failed (실패)

🔍 실패 원인 분석:
  ❌ 메모리 부족 (GPU 8GB 한계)
  ❌ 배치 크기 과다 설정
  ❌ 학습률 부적절

💡 핵심 교훈:
  1. GPU 메모리 모니터링 필수
  2. 배치 크기 점진적 증가 전략 필요
  3. 학습률 스케줄링 도구 활용

📚 학습 데이터베이스 업데이트:
  ✅ 실패 패턴 기록됨
  ✅ 주의사항 데이터베이스 업데이트
  ✅ 다음 실험 시 자동 경고 설정

🚀 개선된 재실험 제안:
  실험명: neural_architecture_v2
  개선사항: 메모리 효율 최적화, 배치 크기 조정
  /실험시작 neural_architecture_v2 modeling --learn-from failed/2024-11-10_0900_neural_architecture
```

## **⚙️ 고급 옵션**

### 기본 옵션
```
--reason TEXT        : 완료/중단 사유 명시
--next-experiment ID : 후속 실험 자동 연결
--archive-location   : 아카이브 위치 지정 (completed/archived)
--generate-report    : 상세 완료 보고서 생성
```

### 고급 옵션
```
--lessons           : 교훈 추출 모드 (실패 실험용)
--metrics-only      : 성능 지표만 기록
--quick            : 빠른 완료 (최소 아카이빙)
--handover USER    : 다른 연구자에게 인계
```

## **🔗 워크플로우 연계**

### 실험 생명주기 완료
```bash
# 1. 실험 시작
/실험시작 new_approach modeling

# 2. 실험 진행 (기존 도구 사용)
# ... 개발 및 분석 진행 ...

# 3. 실험 완료 ⭐
/실험완료 current success

# 4. 보고서에 반영
/보고서작업 progress v2.1 --include-experiment completed/new_approach

# 5. 후속 실험 연결
/실험시작 new_approach_v2 modeling --parent completed/new_approach
```

## **💡 스마트 기능**

### 1. 자동 품질 평가
- 실험 목표 대비 달성도 자동 계산
- 결과물 완성도 체크리스트
- 문서화 품질 평가

### 2. 지능형 분석
- 실패 패턴 자동 인식
- 성공 요인 추출
- 다음 실험 자동 제안

### 3. 협업 지원
- 실험 인계 시스템
- 팀 공유 가능한 결과 정리
- 재현 가능한 환경 설정 저장

## **🎯 성공 기준**

**완료 조건:**
- 실험 결과 완전 아카이빙: 100%
- 교훈 및 발견사항 기록: 95%+
- 다음 실험 연결성 확보: 90%+
- 재현 가능성 보장: 85%+

**품질 지표:**
- 아카이빙 완성도: 95%+ (모든 결과물 보존)
- 지식 누적 효율: 40%+ (교훈 활용)
- 실험 연속성: 80%+ (성공적 실험 체인)

ARGUMENTS: "${args}"